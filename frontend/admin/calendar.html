<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Takvim Yönetimi - Studio Display Admin</title>
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="css/calendar.css">
</head>
<body>
    <div class="admin-container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>Studio Display</h2>
            </div>
            <ul class="sidebar-menu">
                <li><a href="dashboard">Dashboard</a></li>
                <li><a href="lessons">Lessons</a></li>
                <li><a href="instructors">Instructors</a></li>
                <li><a href="contents">Content</a></li>
                <li class="active"><a href="calendar">Takvim</a></li>
                <li><a href="screens">Screens</a></li>
                <li><a href="settings">Settings</a></li>
                <li><a href="#" id="logout-btn">Logout</a></li>
            </ul>
        </nav>

        <main class="main-content">
            <div class="page-header">
                <h1>Takvim Yönetimi</h1>
                <div>
                    <button class="btn btn-secondary" onclick="showAddLessonModal()">Ders Ekle</button>
                    <button class="btn btn-primary" onclick="showAddAdModal()">Reklam Slotu Ekle</button>
                </div>
            </div>

            <!-- Studio Tabs -->
            <div class="studio-tabs">
                <button class="tab-btn active" onclick="switchStudio(1)">Studio A</button>
                <button class="tab-btn" onclick="switchStudio(2)">Studio B</button>
            </div>

            <!-- Calendar Grid -->
            <div class="calendar-container">
                <div class="time-labels">
                    <!-- Time labels will be generated by JS -->
                </div>
                <div id="calendar-grid" class="calendar-grid">
                    <!-- Schedule items will be added here -->
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <h3>Renk Kodları</h3>
                <div class="legend-items">
                    <div class="legend-item"><span class="legend-color" style="background: #10b981;"></span> Yoga</div>
                    <div class="legend-item"><span class="legend-color" style="background: #3b82f6;"></span> Pilates</div>
                    <div class="legend-item"><span class="legend-color" style="background: #ef4444;"></span> Spinning</div>
                    <div class="legend-item"><span class="legend-color" style="background: #8b5cf6;"></span> Evening Yoga</div>
                    <div class="legend-item"><span class="legend-color" style="background: #6366f1;"></span> Meditasyon</div>
                    <div class="legend-item"><span class="legend-color" style="background: #f59e0b;"></span> HIIT</div>
                    <div class="legend-item"><span class="legend-color" style="background: #14b8a6;"></span> Stretching</div>
                    <div class="legend-item"><span class="legend-color" style="background: #64748b;"></span> Reklam</div>
                </div>
            </div>
        </main>
    </div>

    <!-- Add Lesson Modal -->
    <div id="lesson-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Ders Ekle</h2>
                <button class="close-btn" onclick="closeLessonModal()">&times;</button>
            </div>
            <form id="add-lesson-form">
                <div class="form-group">
                    <label for="lesson-select">Ders</label>
                    <select id="lesson-select" required>
                        <option value="">Ders Seçin</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="start-time">Başlangıç Saati</label>
                    <input type="time" id="start-time" required>
                </div>

                <div class="form-group">
                    <label for="duration">Süre (dakika)</label>
                    <input type="number" id="duration" value="60" min="15" max="180" step="15" required>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeLessonModal()">İptal</button>
                    <button type="submit" class="btn btn-primary">Ekle</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Ad Modal -->
    <div id="ad-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Reklam Slotu Ekle</h2>
                <button class="close-btn" onclick="closeAdModal()">&times;</button>
            </div>
            <form id="add-ad-form">
                <div class="form-group">
                    <label for="ad-content">Reklam İçeriği</label>
                    <select id="ad-content" required>
                        <option value="">İçerik Seçin</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="ad-start-time">Başlangıç Saati</label>
                    <input type="time" id="ad-start-time" required>
                </div>

                <div class="form-group">
                    <label for="ad-duration">Süre (dakika)</label>
                    <input type="number" id="ad-duration" value="5" min="1" max="30" required>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeAdModal()">İptal</button>
                    <button type="submit" class="btn btn-primary">Ekle</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Slot Modal -->
    <div id="edit-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Slot Düzenle</h2>
                <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <form id="edit-slot-form">
                <input type="hidden" id="edit-schedule-id">

                <div class="form-group">
                    <label for="edit-start-time">Başlangıç Saati</label>
                    <input type="time" id="edit-start-time" required>
                </div>

                <div class="form-group">
                    <label for="edit-duration">Süre (dakika)</label>
                    <input type="number" id="edit-duration" min="15" max="180" step="15" required>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-danger" onclick="deleteSlot()">Sil</button>
                    <button type="button" class="btn btn-secondary" onclick="closeEditModal()">İptal</button>
                    <button type="submit" class="btn btn-primary">Kaydet</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/calendar.js"></script>
</body>
</html>
